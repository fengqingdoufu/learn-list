<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            background: #000;
        }
        #c1 {
            background: #fff;
        }
    </style>
</head>
<body>
<input type="button" value="→">
<input type="button" value="←">
<div>
    <img src="bg-userhaed.png" alt="" id="img1">
</div>
<!--<canvas id="c1" width="400" height="400">1</canvas>-->
<script>
    // let canvas = document.getElementById('c1')
    // let can = canvas.getContext('2d')
    let aInput = document.getElementsByTagName('input')
    let oImg = document.getElementById('img1')
    let iNow = 0
    let yImg = new Image()
    yImg.onload = function () {
        draw(oImg)
    }
    yImg.src = oImg.src

    function draw(obj) {
        let oC = document.createElement('canvas')
        let oGC =  oC.getContext('2d')
        oC.width = obj.width
        oC.height = obj.height
        obj.parentNode.replaceChild(oC,obj)
        oGC.drawImage(obj,0,0)
        aInput[1].onclick = function () {
            if (iNow == 3) {
                iNow = 0
            } else {
                iNow++
            }
            toChange()
        }
        aInput[0].onclick = function () {

        }
        function toChange() {
            switch (iNow) {
                case 1:
                    oC.width = obj.height
                    oC.height = obj.width
                    oGC.rotate(90*Math.PI/180)
                    oGC.drawImage(obj,0,-obj.height)
                    break
                case 2 :
                    oC.width = obj.width
                    oC.height = obj.height
                    oGC.rotate(180*Math.PI/180)
                    oGC.drawImage(obj,-obj.width,-obj.height)
                    break
                case 3 :
                    oC.width = obj.height
                    oC.height = obj.width
                    oGC.rotate(270*Math.PI/180)
                    oGC.drawImage(obj,-obj.width,0)
                    break
                case 0 :
                    oC.width = obj.width
                    oC.height = obj.height
                    oGC.rotate(0)
                    oGC.drawImage(obj,0,0)
                    break
            }
        }
    }
</script>
</body>
</html>